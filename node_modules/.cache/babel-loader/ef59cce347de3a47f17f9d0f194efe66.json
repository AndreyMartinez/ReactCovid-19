{"ast":null,"code":"import _classCallCheck from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/src/pages/DashboardPage.js\";\nimport MapWithBubbles from 'components/MapWithBubbles';\nimport Page from 'components/Page';\nimport CountryProgressTable from 'components/CountryProgressTable';\nimport { IconWidget, NumberWidget } from 'components/Widget';\nimport React from 'react';\nimport { MdSentimentSatisfied, MdPlace, MdEnhancedEncryption, MdWhatshot } from 'react-icons/md';\nimport { Card, CardBody, CardHeader, Col, Row } from 'reactstrap';\nimport { countryProgressTableData } from 'demos/dashboardCountry';\nimport { getColor } from 'utils/colors';\n\nvar DashboardPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(DashboardPage, _React$Component);\n\n  function DashboardPage() {\n    var _this;\n\n    _classCallCheck(this, DashboardPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DashboardPage).call(this));\n\n    _this.callback = function (countrycode) {\n      var url = 'https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest';\n      var iso = 'iso3';\n      var valueIso = countrycode.iso3;\n      var request1 = new Request(url + '?' + iso + '=' + valueIso, {\n        method: 'GET'\n      });\n\n      _this.cargaIsoTotales(request1);\n    };\n\n    _this.state = {\n      paisItemsOrdenados: [],\n      paisItems: {},\n      itemsTotalesFormateados: {},\n      itemsTotales: {},\n      iso2: \"COL\",\n      iso3: \"CO\",\n      paisItemsTotalesFormateados: {},\n      paisItemsTotales: {}\n    };\n    return _this;\n  }\n\n  _createClass(DashboardPage, [{\n    key: \"handleResponseError\",\n    value: function handleResponseError(response) {\n      throw new Error(\"HTTP error, status = \" + response.status);\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(error) {\n      console.log(error.message);\n    }\n  }, {\n    key: \"cargaValoresTotales\",\n    value: function cargaValoresTotales(request) {\n      var _this2 = this;\n\n      fetch(request).then(function (response) {\n        if (!response.ok) {\n          _this2.handleResponseError(response);\n        }\n\n        return response.json();\n      }).then(function (json) {\n        console.log(\"cargaValoresTotales resultados : \" + JSON.stringify(json));\n        var itemsTotalesFormateados = {\n          \"confirmed\": json.confirmed.toLocaleString(),\n          \"deaths\": json.deaths.toLocaleString(),\n          \"recovered\": json.recovered.toLocaleString()\n        };\n\n        _this2.setState({\n          itemsTotalesFormateados: itemsTotalesFormateados,\n          itemsTotales: json\n        });\n\n        var url = 'https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest';\n        var iso = 'iso3';\n        var valueIso = 'COL';\n        var request1 = new Request(url + '?' + iso + '=' + valueIso, {\n          method: 'GET'\n        });\n\n        _this2.cargaIsoTotales(request1);\n      }).catch(function (error) {\n        _this2.handleError(error);\n      });\n    }\n  }, {\n    key: \"cargaIsoTotales\",\n    value: function cargaIsoTotales(request) {\n      var _this3 = this;\n\n      fetch(request).then(function (response) {\n        if (!response.ok) {\n          _this3.handleResponseError(response);\n        }\n\n        return response.json();\n      }).then(function (json) {\n        console.log(\"cargaIsoTotales los resultados : \" + JSON.stringify(json[0]));\n        var paisItemsTotalesFormateados = {\n          \"confirmed\": json[0].confirmed.toLocaleString(),\n          \"deaths\": json[0].deaths.toLocaleString(),\n          \"recovered\": json[0].recovered.toLocaleString()\n        };\n\n        _this3.setState({\n          paisItems: json[0],\n          paisItemsTotalesFormateados: paisItemsTotalesFormateados\n        });\n      }).catch(function (error) {\n        _this3.handleError(error);\n      });\n    }\n  }, {\n    key: \"ordenarAscTable\",\n    value: function ordenarAscTable(data, key, orden) {\n      return data.sort(function (a, b) {\n        var x = a[key],\n            y = b[key];\n\n        if (orden === 'asc') {\n          return x < y ? -1 : x > y ? 1 : 0;\n        }\n\n        if (orden === 'desc') {\n          return x > y ? -1 : x < y ? 1 : 0;\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // this is needed, because InfiniteCalendar forces window scroll\n      window.scrollTo(0, 0);\n      var request = new Request('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/brief', {\n        method: 'GET'\n      });\n      this.cargaValoresTotales(request);\n      debugger;\n      var jsonArrayLista = countryProgressTableData;\n      this.ordenarAscTable(jsonArrayLista, 'countryregion', 'asc');\n      this.setState({\n        paisItemsOrdenados: jsonArrayLista\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var primaryColor = getColor('primary');\n      var secondaryColor = getColor('secondary');\n      return /*#__PURE__*/React.createElement(Page, {\n        className: \"DashboardPage\",\n        title: this.state.paisItems.countryregion + ' - ' + 'Seguimiento de coronavirus',\n        breadcrumbs: [{\n          name: 'Mapa',\n          active: true\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: 4,\n        md: 6,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(NumberWidget, {\n        title: \"Total casos confirmados\",\n        subtitle: \"Casos globales\",\n        number: this.state.itemsTotalesFormateados.confirmed,\n        color: \"primary\",\n        progress: {\n          value: Number.parseFloat(this.state.paisItemsTotalesFormateados.confirmed * 100 / this.state.itemsTotales.confirmed).toFixed(4),\n          label: 'Casos ' + this.state.paisItems.countryregion + ' % Casos globales'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        lg: 4,\n        md: 6,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(NumberWidget, {\n        title: \"Muertes totales\",\n        subtitle: \"Casos globales\",\n        number: this.state.itemsTotalesFormateados.deaths,\n        color: \"danger\",\n        progress: {\n          value: (Number.parseFloat(this.state.paisItemsTotalesFormateados.deaths * 100) / this.state.itemsTotales.deaths).toFixed(4),\n          label: 'Casos ' + this.state.paisItems.countryregion + ' % Casos globales'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        lg: 4,\n        md: 6,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(NumberWidget, {\n        title: \"Total casos recuperados\",\n        subtitle: \"Casos globales\",\n        number: this.state.itemsTotalesFormateados.recovered,\n        color: \"success\",\n        progress: {\n          value: (Number.parseFloat(this.state.paisItemsTotalesFormateados.recovered * 100) / this.state.itemsTotales.recovered).toFixed(4),\n          label: 'Casos ' + this.state.paisItems.countryregion + ' % Casos globales'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: 4,\n        md: 6,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(IconWidget, {\n        bgColor: \"primary\",\n        icon: MdEnhancedEncryption,\n        iconProps: {\n          size: 50\n        },\n        title: 'Total : ' + this.state.paisItemsTotalesFormateados.confirmed,\n        subtitle: \"Confirmados\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        lg: 4,\n        md: 6,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(IconWidget, {\n        bgColor: \"danger\",\n        icon: MdWhatshot,\n        iconProps: {\n          size: 50\n        },\n        title: 'Total : ' + this.state.paisItemsTotalesFormateados.deaths,\n        subtitle: \"Muertes\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        lg: 4,\n        md: 6,\n        sm: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(IconWidget, {\n        bgColor: \"success\",\n        icon: MdSentimentSatisfied,\n        iconProps: {\n          size: 50\n        },\n        title: 'Total : ' + this.state.paisItemsTotalesFormateados.recovered,\n        subtitle: \"Recuperados\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"4\",\n        md: \"12\",\n        sm: \"12\",\n        xs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }\n      }, \"Seleccione un pa\\xEDs\"), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CountryProgressTable, {\n        headers: ['Pais', /*#__PURE__*/React.createElement(MdPlace, {\n          size: 25,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 21\n          }\n        })],\n        countryData: countryProgressTableData,\n        parentCallback: this.callback,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }\n      })))), /*#__PURE__*/React.createElement(Col, {\n        lg: \"8\",\n        md: \"12\",\n        sm: \"12\",\n        xs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        inverse: true,\n        className: \"bg-gradient-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"bg-gradient-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }\n      }, \"Casos confirmados acumulados\"), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(MapWithBubbles, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 17\n        }\n      }))))));\n    }\n  }]);\n\n  return DashboardPage;\n}(React.Component);\n\nexport default DashboardPage;","map":{"version":3,"sources":["/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/src/pages/DashboardPage.js"],"names":["MapWithBubbles","Page","CountryProgressTable","IconWidget","NumberWidget","React","MdSentimentSatisfied","MdPlace","MdEnhancedEncryption","MdWhatshot","Card","CardBody","CardHeader","Col","Row","countryProgressTableData","getColor","DashboardPage","callback","countrycode","url","iso","valueIso","iso3","request1","Request","method","cargaIsoTotales","state","paisItemsOrdenados","paisItems","itemsTotalesFormateados","itemsTotales","iso2","paisItemsTotalesFormateados","paisItemsTotales","response","Error","status","error","console","log","message","request","fetch","then","ok","handleResponseError","json","JSON","stringify","confirmed","toLocaleString","deaths","recovered","setState","catch","handleError","data","key","orden","sort","a","b","x","y","window","scrollTo","cargaValoresTotales","jsonArrayLista","ordenarAscTable","primaryColor","secondaryColor","countryregion","name","active","value","Number","parseFloat","toFixed","label","size","Component"],"mappings":"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","sourcesContent":["import MapWithBubbles from 'components/MapWithBubbles';\nimport Page from 'components/Page';\nimport CountryProgressTable from 'components/CountryProgressTable';\nimport { IconWidget, NumberWidget } from 'components/Widget';\nimport React from 'react';\nimport {\n  MdSentimentSatisfied,\n  MdPlace,\n  MdEnhancedEncryption,\n  MdWhatshot,\n} from 'react-icons/md';\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Row,\n} from 'reactstrap';\nimport {  countryProgressTableData } from 'demos/dashboardCountry';\nimport { getColor } from 'utils/colors';\n\n\nclass DashboardPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      paisItemsOrdenados:[],\n      paisItems: {},\n      itemsTotalesFormateados: {},\n      itemsTotales: {},\n      iso2: \"COL\",\n      iso3: \"CO\",\n      paisItemsTotalesFormateados: {},\n      paisItemsTotales: {},\n    };\n  }\n\n  callback = (countrycode) => {\n    let url = 'https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest';\n    let iso = 'iso3';\n    let valueIso = countrycode.iso3;\n    const request1 = new Request(\n      url + '?' + iso + '=' + valueIso, {\n      method: 'GET',\n    });\n    this.cargaIsoTotales(request1);\n }\n\n  handleResponseError(response) {\n    throw new Error(\"HTTP error, status = \" + response.status);\n  }\n  handleError(error) {\n    console.log(error.message);\n  }\n\n  cargaValoresTotales(request) {\n    fetch(request)\n      .then(response => {\n        if (!response.ok) {\n          this.handleResponseError(response);\n        }\n        return response.json();\n      })\n      .then(json => {\n        console.log(\"cargaValoresTotales resultados : \" + JSON.stringify(json));\n        let itemsTotalesFormateados =\n        {\n          \"confirmed\": json.confirmed.toLocaleString(),\n          \"deaths\": json.deaths.toLocaleString(),\n          \"recovered\": json.recovered.toLocaleString()\n        };\n\n        this.setState({\n          itemsTotalesFormateados: itemsTotalesFormateados,\n          itemsTotales: json\n        })\n        let url = 'https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest';\n        let iso = 'iso3';\n        let valueIso = 'COL';\n        const request1 = new Request(\n          url + '?' + iso + '=' + valueIso, {\n          method: 'GET',\n        });\n        this.cargaIsoTotales(request1);\n\n      })\n      .catch(error => {\n        this.handleError(error);\n      });\n  }\n\n  cargaIsoTotales(request) {\n    fetch(request)\n      .then(response => {\n        if (!response.ok) {\n          this.handleResponseError(response);\n        }\n        return response.json();\n      })\n      .then(json => {\n        console.log(\"cargaIsoTotales los resultados : \" + JSON.stringify(json[0]));\n        let paisItemsTotalesFormateados =\n        {\n          \"confirmed\": json[0].confirmed.toLocaleString(),\n          \"deaths\": json[0].deaths.toLocaleString(),\n          \"recovered\": json[0].recovered.toLocaleString()\n        };\n\n        this.setState({\n          paisItems: json[0],\n          paisItemsTotalesFormateados: paisItemsTotalesFormateados\n        })\n\n\n      })\n      .catch(error => {\n        this.handleError(error);\n      });\n  }\n\n\n  ordenarAscTable(data, key, orden) {\n    return data.sort(function (a, b) {\n        var x = a[key],\n        y = b[key];\n\n        if (orden === 'asc') {\n            return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n        }\n\n        if (orden === 'desc') {\n            return ((x > y) ? -1 : ((x < y) ? 1 : 0));\n        }\n    });\n}\n\n  componentDidMount() {\n    // this is needed, because InfiniteCalendar forces window scroll\n    window.scrollTo(0, 0);\n    const request = new Request('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/brief', {\n      method: 'GET'\n    });\n    this.cargaValoresTotales(request);\n    debugger;\n    let jsonArrayLista = countryProgressTableData;\n    this.ordenarAscTable(jsonArrayLista, 'countryregion','asc');\n    this.setState({paisItemsOrdenados:jsonArrayLista})\n  }\n\n  render() {\n    const primaryColor = getColor('primary');\n    const secondaryColor = getColor('secondary');\n\n    return (\n      <Page\n        className=\"DashboardPage\"\n        title={this.state.paisItems.countryregion + ' - ' + 'Seguimiento de coronavirus'}\n        breadcrumbs={[{ name: 'Mapa', active: true }]}\n      >\n        <Row>\n          <Col lg={4} md={6} sm={6} xs={12}>\n            <NumberWidget\n              title=\"Total casos confirmados\"\n              subtitle=\"Casos globales\"\n              number={this.state.itemsTotalesFormateados.confirmed}\n              color=\"primary\"\n              progress={{\n                value: Number.parseFloat((this.state.paisItemsTotalesFormateados.confirmed * 100) / this.state.itemsTotales.confirmed).toFixed(4)\n                ,\n                label: 'Casos ' + this.state.paisItems.countryregion\n                  + ' % Casos globales',\n\n              }}\n            />\n          </Col>\n\n          <Col lg={4} md={6} sm={6} xs={12}>\n            <NumberWidget\n              title=\"Muertes totales\"\n              subtitle=\"Casos globales\"\n              number={this.state.itemsTotalesFormateados.deaths}\n              color=\"danger\"\n              progress={{\n                value: (Number.parseFloat(this.state.paisItemsTotalesFormateados.deaths * 100) / this.state.itemsTotales.deaths).toFixed(4),\n                label: 'Casos ' + this.state.paisItems.countryregion\n                  + ' % Casos globales',\n              }}\n            />\n          </Col>\n\n          <Col lg={4} md={6} sm={6} xs={12}>\n            <NumberWidget\n              title=\"Total casos recuperados\"\n              subtitle=\"Casos globales\"\n              number={this.state.itemsTotalesFormateados.recovered}\n              color=\"success\"\n              progress={{\n                value: (Number.parseFloat(this.state.paisItemsTotalesFormateados.recovered * 100) / this.state.itemsTotales.recovered).toFixed(4),\n                label: 'Casos ' + this.state.paisItems.countryregion\n                  + ' % Casos globales',\n              }}\n            />\n          </Col>\n        </Row>\n\n\n        <Row>\n          <Col lg={4} md={6} sm={6} xs={12}>\n            <IconWidget\n              bgColor='primary'\n              icon={MdEnhancedEncryption}\n              iconProps={{ size: 50 }}\n              title={'Total : ' + this.state.paisItemsTotalesFormateados.confirmed}\n              subtitle=\"Confirmados\"\n            />\n          </Col>\n\n          <Col lg={4} md={6} sm={6} xs={12}>\n            <IconWidget\n              bgColor='danger'\n              icon={MdWhatshot}\n              iconProps={{ size: 50 }}\n              title={'Total : ' + this.state.paisItemsTotalesFormateados.deaths}\n              subtitle=\"Muertes\"\n            />\n          </Col>\n\n          <Col lg={4} md={6} sm={6} xs={12}>\n            <IconWidget\n              bgColor='success'\n              icon={MdSentimentSatisfied}\n              iconProps={{ size: 50 }}\n              title={'Total : ' + this.state.paisItemsTotalesFormateados.recovered}\n              subtitle=\"Recuperados\"\n            />\n          </Col>\n        </Row>\n\n\n\n        <Row>\n          <Col lg=\"4\" md=\"12\" sm=\"12\" xs=\"12\">\n\n            <Card>\n              <CardHeader>Seleccione un país</CardHeader>\n              <CardBody  >\n                <CountryProgressTable \n                  headers={[\n                    'Pais',\n                    <MdPlace size={25} />,\n                  ]}\n                  countryData={countryProgressTableData}\n                  parentCallback={this.callback}\n                />\n              </CardBody>\n            </Card>\n\n          </Col>\n\n          <Col lg=\"8\" md=\"12\" sm=\"12\" xs=\"12\">\n            <Card inverse className=\"bg-gradient-primary\">\n              <CardHeader className=\"bg-gradient-primary\">\n                Casos confirmados acumulados\n              </CardHeader>\n              <CardBody>\n                <MapWithBubbles />\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n\n\n\n      </Page>\n    );\n  }\n}\nexport default DashboardPage;\n"]},"metadata":{},"sourceType":"module"}