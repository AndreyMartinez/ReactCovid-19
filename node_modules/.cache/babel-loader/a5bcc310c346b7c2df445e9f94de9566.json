{"ast":null,"code":"import _classCallCheck from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/src/components/MapWithBubbles.js\";\nimport world50m from 'assets/geo-data/world-50m.json';\nimport { scaleLinear } from 'd3-scale';\nimport React, { Component } from 'react';\nimport { ComposableMap, Geographies, Geography, Marker, Markers, ZoomableGroup } from 'react-simple-maps';\nimport { getColor } from 'utils/colors';\nvar cityScale = scaleLinear().domain([0, 37843000]).range([1, 25]);\n\nvar BubbleMap = /*#__PURE__*/function (_Component) {\n  _inherits(BubbleMap, _Component);\n\n  function BubbleMap() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BubbleMap);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BubbleMap)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      paisItems: []\n    };\n    return _this;\n  }\n\n  _createClass(BubbleMap, [{\n    key: \"ordenarAsc\",\n    value: function ordenarAsc(p_array_json, p_key) {\n      p_array_json.sort(function (a, b) {\n        return a[p_key] > b[p_key];\n      });\n    }\n  }, {\n    key: \"creaObjetoPintar\",\n    value: function creaObjetoPintar(json) {\n      var arrayCity = [];\n\n      for (var i = 0; i < json.length; i++) {\n        var city = json[i];\n        arrayCity.push({\n          \"name\": city.countryregion,\n          \"coordinates\": [city.location.lng, city.location.lat],\n          \"population\": parseInt(city.confirmed)\n        });\n        console.log(city.confirmed);\n      }\n\n      this.setState({\n        paisItems: arrayCity\n      });\n    }\n  }, {\n    key: \"cargaTotalPaises\",\n    value: function cargaTotalPaises(request) {\n      var _this2 = this;\n\n      fetch(request).then(function (response) {\n        if (!response.ok) {\n          _this2.handleResponseError(response);\n        }\n\n        return response.json();\n      }).then(function (json) {\n        _this2.ordenarAsc(json, 'countryregion');\n\n        _this2.creaObjetoPintar(json);\n      }).catch(function (error) {\n        _this2.handleError(error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // this is needed, because InfiniteCalendar forces window scroll\n      var request = new Request('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest?onlyCountries=true', {\n        method: 'GET'\n      });\n      this.cargaTotalPaises(request);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // const primaryColor = getColor('primary');\n      var secondaryColor = getColor('secondary');\n      var lightColor = getColor('light');\n      return /*#__PURE__*/React.createElement(ComposableMap, {\n        projectionConfig: {\n          scale: 205\n        },\n        width: 980,\n        height: 551,\n        style: {\n          width: '100%',\n          height: 'auto'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ZoomableGroup, {\n        center: [0, 20],\n        disablePanning: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Geographies, {\n        geography: world50m,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, function (geographies, projection) {\n        return geographies.map(function (geography, i) {\n          return geography.id !== 'ATA' && /*#__PURE__*/React.createElement(Geography, {\n            key: i,\n            geography: geography,\n            projection: projection,\n            style: {\n              default: {\n                fill: lightColor,\n                stroke: lightColor,\n                strokeWidth: 0.75,\n                outline: 'none'\n              },\n              hover: {\n                fill: secondaryColor,\n                stroke: secondaryColor,\n                strokeWidth: 0.75,\n                outline: 'none'\n              },\n              pressed: {\n                fill: secondaryColor,\n                stroke: secondaryColor,\n                strokeWidth: 0.75,\n                outline: 'none'\n              }\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 21\n            }\n          });\n        });\n      }), /*#__PURE__*/React.createElement(Markers, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }, this.state.paisItems.map(function (city, i) {\n        return /*#__PURE__*/React.createElement(Marker, {\n          key: i,\n          marker: city,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"circle\", {\n          cx: 0,\n          cy: 0,\n          r: cityScale(city.population),\n          fill: secondaryColor,\n          stroke: secondaryColor,\n          strokeWidth: \"2\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }\n        }));\n      }))));\n    }\n  }]);\n\n  return BubbleMap;\n}(Component);\n\nexport default BubbleMap;","map":{"version":3,"sources":["/Users/joseluissartaalvarez/Desktop/Covid-19/Cv-19/src/components/MapWithBubbles.js"],"names":["world50m","scaleLinear","React","Component","ComposableMap","Geographies","Geography","Marker","Markers","ZoomableGroup","getColor","cityScale","domain","range","BubbleMap","state","paisItems","p_array_json","p_key","sort","a","b","json","arrayCity","i","length","city","push","countryregion","location","lng","lat","parseInt","confirmed","console","log","setState","request","fetch","then","response","ok","handleResponseError","ordenarAsc","creaObjetoPintar","catch","error","handleError","Request","method","cargaTotalPaises","secondaryColor","lightColor","scale","width","height","geographies","projection","map","geography","id","default","fill","stroke","strokeWidth","outline","hover","pressed","population"],"mappings":"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","sourcesContent":["import world50m from 'assets/geo-data/world-50m.json';\nimport { scaleLinear } from 'd3-scale';\nimport React, { Component } from 'react';\nimport {\n  ComposableMap,\n  Geographies,\n  Geography,\n  Marker,\n  Markers,\n  ZoomableGroup,\n} from 'react-simple-maps';\nimport { getColor } from 'utils/colors';\n\nconst cityScale = scaleLinear()\n  .domain([0, 37843000])\n  .range([1, 25]);\n\nclass BubbleMap extends Component {\n  state = {\n    paisItems: [],\n  };\n\n  ordenarAsc(p_array_json, p_key) {\n    p_array_json.sort(function (a, b) {\n      return a[p_key] > b[p_key];\n    });\n  }\n\n  creaObjetoPintar(json) {\n    var arrayCity = [];\n    for(var i= 0; i < json.length; i++) {\n      var city = json[i];\n      arrayCity.push({ \n          \"name\"    : city.countryregion,\n          \"coordinates\"  : [city.location.lng,city.location.lat],\n          \"population\"    : parseInt(city.confirmed)\n      });\n      console.log(city.confirmed)\n  }\n  this.setState({paisItems:arrayCity})\n  }\n\n  cargaTotalPaises(request) {\n    fetch(request)\n      .then(response => {\n        if (!response.ok) {\n          this.handleResponseError(response);\n        }\n        return response.json();\n      })\n      .then(json => {\n        this.ordenarAsc(json, 'countryregion');\n        this.creaObjetoPintar(json);\n      })\n      .catch(error => {\n        this.handleError(error);\n      });\n  }\n\n\n  componentDidMount() {\n    // this is needed, because InfiniteCalendar forces window scroll\n    const request = new Request('https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest?onlyCountries=true', {\n      method: 'GET'\n    });\n    this.cargaTotalPaises(request);\n  }\n\n  render() {\n    // const primaryColor = getColor('primary');\n    const secondaryColor = getColor('secondary');\n    const lightColor = getColor('light');\n    return (\n      <ComposableMap\n        projectionConfig={{ scale: 205 }}\n        width={980}\n        height={551}\n        style={{\n          width: '100%',\n          height: 'auto',\n        }}\n      >\n        <ZoomableGroup center={[0, 20]} disablePanning>\n          <Geographies geography={world50m}>\n            {(geographies, projection) =>\n              geographies.map(\n                (geography, i) =>\n                  geography.id !== 'ATA' && (\n                    <Geography\n                      key={i}\n                      geography={geography}\n                      projection={projection}\n                      style={{\n                        default: {\n                          fill: lightColor,\n                          stroke: lightColor,\n                          strokeWidth: 0.75,\n                          outline: 'none',\n                        },\n                        hover: {\n                          fill: secondaryColor,\n                          stroke: secondaryColor,\n                          strokeWidth: 0.75,\n                          outline: 'none',\n                        },\n                        pressed: {\n                          fill: secondaryColor,\n                          stroke: secondaryColor,\n                          strokeWidth: 0.75,\n                          outline: 'none',\n                        },\n                      }}\n                    />\n                  ),\n              )\n            }\n          </Geographies>\n          <Markers>\n            {this.state.paisItems.map((city, i) => (\n              <Marker key={i} marker={city}>\n                <circle\n                  cx={0}\n                  cy={0}\n                  r={cityScale(city.population)}\n                  fill={secondaryColor}\n                  stroke={secondaryColor}\n                  strokeWidth=\"2\"\n                />\n              </Marker>\n            ))}\n          </Markers>\n        </ZoomableGroup>\n      </ComposableMap>\n    );\n  }\n}\n\nexport default BubbleMap;\n"]},"metadata":{},"sourceType":"module"}